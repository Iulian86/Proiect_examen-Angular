<!-- <div>-->
<!--   <app-project-page-header></app-project-page-header>-->
<!-- </div>-->

<div class="container mt-1">
  <div class="panel">
    <div class="panel-heading">
      <h2> Project details </h2>
    </div>
    <div class="panel-body">
      <div class="row">
        <div class="col-lg-6">
          <div> Name : {{project.name}}</div>
          <div> Location : {{project.location}}</div>
        </div>
        <div class="col-lg-6">
          <div>Project administrator : {{project.administrator.name}}</div>
          <div> Registered on : {{project.registeredOn}}</div>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-12 m-2">
          <h2>Assigned users</h2>
          <div class="panel-body">
            <table class="table table-striped">
              <thead>
              <tr>
                <th>
                  Username
                </th>
                <th>
                  User email
                </th>
                <th>
                  User role
                </th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let user of project.assignedUsers">
                <td>{{user.name}}</td>
                <td>{{user.emailAddress}}</td>
                <td>{{user.roles[0]}}</td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="panel-body">
      <h2>Search by email address and invite users</h2>
      <form class="form-group">
        <input type="text" (keyup)="findUserByEmail($event)"
               class="form-control mt-5"
               placeholder="Search users by email">
      </form>
      <div *ngIf="user">
        <div class="card" style="width: 18rem;">
          <div class="card-body">
            <h4 class="card-title">User name: {{user.username}}</h4>
            <p class="card-text">Email: {{user.email}}</p>
            <button class="btn btn-sm btn-info" (click)="inviteUser(user.username)"> Invite user </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
